Last updated: 2026-01-03

# Development Status

## 現在のIssues
- [Issue #26](../issue-notes/26.md) と [Issue #28](../issue-notes/28.md) は、楽譜表示ライブラリ`chord2mml`のCDN参照問題（404エラー）の解決と、その検証済みバージョンへの更新に取り組んでいます。
- [Issue #25](../issue-notes/25.md) では五線譜表示の横幅調整、[Issue #24](../issue-notes/24.md) ではQuartz4ダークモードでの表示破綻に対応し、UI/UXの改善を目指しています。
- [Issue #2](../issue-notes/2.md) として、プロジェクトのREADMEと関連ドキュメントを読み込み、全体的な動作確認と今後の開発方針のヒントを収集しています。

## 次の一手候補
1. [Issue #26](../issue-notes/26.md): chord2mmlの404エラーを解決する
   - 最初の小さな一歩: `chord2mml` ライブラリのCDN URLが正しいか、または利用可能な別のCDNやローカル導入の可能性を調査し、具体的なURL候補を特定する。特に、過去の修正履歴や `issue-notes/28.md` に記載されている情報を参照し、再発しているか、別の問題なのかを明確にする。
   - Agent実行プロンプト:
     ```
     対象ファイル: `src/index.ts`, `demo.html`, `test/integration-test.html`, `package.json`, `package-lock.json`

     実行内容:
     1. `src/index.ts` および `demo.html`, `test/integration-test.html` における `chord2mml` のCDNインポート部分を特定します。
     2. コミット履歴 (afb0f85, 2d7564f, bc08605, ca50c45) および `issue-notes/28.md` の内容から、`chord2mml` のCDN問題に関する過去の修正とその検証結果を詳細に分析します。
     3. 現在の`chord2mml`の404エラーの原因が、過去の修正の不完全さ、再発、または新たな問題のいずれであるかを特定します。
     4. 利用可能な最新の、かつ安定した`chord2mml`ライブラリのCDN URL、またはローカル導入の推奨方法を調査し、2〜3の候補を挙げます。

     確認事項:
     - `chord2mml` の依存関係が `package.json` に適切に記述されているかを確認してください。
     - 過去の `chord2mml` 修正に関連するコードやテストコード（例: `test/integration.test.ts`）が存在するかを確認してください。
     - `easychord2mml` プロジェクトにおける `chord2mml` の利用方法に関する情報（もしあれば）を参照してください。

     期待する出力:
     markdown形式で以下の情報を含めて出力してください:
     1. 現在の`chord2mml`のCDNインポートに関するコードスニペットと、その問題点。
     2. 過去の修正履歴（コミットハッシュと概要）と、今回の問題との関連性の分析結果。
     3. `chord2mml`の404エラーの具体的な原因と推定。
     4. 解決策として提案するCDN URL候補またはローカル導入手順のリスト（各候補について、その検証済みバージョンや利用の容易さなどの評価を含む）。
     ```

2. [Issue #25](../issue-notes/25.md): 五線譜表示の横幅が大きすぎて少しはみ出す。横幅を調整する方法を検討する
   - 最初の小さな一歩: 現在の五線譜表示がはみ出している箇所を特定し、その表示を制御しているCSSスタイルやJavaScriptコードを洗い出す。具体的に、どのコンポーネントが横幅を規定しているかを特定します。
   - Agent実行プロンプト:
     ```
     対象ファイル: `src/index.ts`, `demo.html`, `test/integration-test.html`, `presets/style.css` (もしあれば), および関連するJavaScript/CSSファイル。

     実行内容:
     1. プロジェクト内で五線譜表示を生成している部分（例: `abcjs` の利用箇所）を特定します。
     2. 五線譜表示の横幅に影響を与えている可能性のあるCSSルール（例: `width`, `max-width`, `overflow` など）やJavaScriptのレンダリングオプションを `src/index.ts`, `demo.html`, `test/integration-test.html` から抽出します。
     3. 現在の横幅がはみ出す具体的な状況を再現する簡単なHTML/JavaScriptスニペットを特定または作成します。
     4. 横幅調整のために変更すべきCSSプロパティやJavaScriptのオプション候補をいくつか挙げます。

     確認事項:
     - ブラウザの開発者ツールで五線譜表示部分のDOM構造と適用されているスタイルを確認し、どの要素が横幅を決定しているか把握してください。
     - Quartz4環境での表示状況を考慮してください。

     期待する出力:
     markdown形式で以下の情報を含めて出力してください:
     1. 五線譜表示に関連するHTML/JavaScriptの主要なコードスニペット。
     2. 現在の横幅超過を引き起こしていると推測されるCSSルールまたはJavaScriptオプション。
     3. 横幅を調整するための具体的なCSS変更案（例: `width: auto; max-width: 100%;`）またはJavaScriptレンダリングオプションの調整案。各案について、その効果と潜在的な影響を記述してください。
     ```

3. [Issue #24](../issue-notes/24.md): Quartz4のダークモード中は表示が破綻する。ライトモードでのみ正常表示できる。ダークモードに対応できるか検討する
   - 最初の小さな一歩: Quartz4のダークモードがどのように適用されているか、その仕組みを調査する。特に、ダークモード時に適用されるCSS変数やクラス、またはJavaScriptによるテーマ切り替えロジックを特定します。
   - Agent実行プロンプト:
     ```
     対象ファイル: `src/index.ts`, `demo.html`, `presets/style.css`, およびプロジェクト内でCSSテーマを管理している可能性のあるファイル。Quartz4のドキュメントや関連リポジトリのCSS構造に関する情報（もし参照可能であれば）。

     実行内容:
     1. Quartz4環境下でダークモードが適用された際に、HTML要素にどのようなクラス（例: `dark`, `theme-dark`）やデータ属性が付与されるか、またはCSS変数が変更されるかを調査します（これは一般的なQuartzの挙動を基にする）。
     2. 現在の五線譜表示や楽譜関連のコンポーネントが、ダークモード時にどのように表示が破綻するか（例: 色の反転、背景色の不一致）を具体的に分析します。
     3. `src/index.ts` や関連CSSファイル内で、背景色や文字色を明示的に指定している箇所、またはダークモード対応を妨げている可能性のあるスタイルを洗い出します。
     4. ダークモードに対応するための一般的なCSSプラクティス（例: `prefers-color-scheme` メディアクエリ、CSS変数によるテーマ管理）を検討し、適用可能性を評価します。

     確認事項:
     - Quartz4のダークモード切り替えが、ユーザーのOS設定に連動するのか、それとも独自のトグルで切り替わるのかを確認してください。
     - ダークモード時に五線譜表示以外の要素は正常に表示されているかを確認してください。

     期待する出力:
     markdown形式で以下の情報を含めて出力してください:
     1. Quartz4のダークモード検出方法（CSSクラス、データ属性、メディアクエリなど）に関する推定。
     2. ダークモード時に表示が破綻する具体的なUI要素と、その現在のスタイル（背景色、文字色など）。
     3. ダークモード対応のための具体的なCSS変更案またはJavaScriptロジック調整案。例えば、`@media (prefers-color-scheme: dark)` を使用したスタイル定義や、CSS変数を導入して色の管理を一元化する案など。
     ```

---
Generated at: 2026-01-03 07:02:08 JST
