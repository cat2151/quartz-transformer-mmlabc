Last updated: 2026-01-11

# Development Status

## 現在のIssues
- [Issue #50](../issue-notes/50.md) は、以前報告された #46 の現象が再発しないか、リロード動作を含めて継続的に監視中です。
- [Issue #31](../issue-notes/31.md) のドッグフーディングを進め、実際の使用状況での機能検証と改善点の特定を行っています。
- 最近のデバッグログ機能の追加は、今後の問題特定と監視に役立つ可能性があります。

## 次の一手候補
1. [Issue #50](../issue-notes/50.md) の監視とデバッグログの活用
   - 最初の小さな一歩: 導入されたデバッグログが期待通り機能しているか、`demo.html` を利用して手動で確認し、ログ出力がSPAナビゲーションやリロード時にどのように変化するかを観察する。
   - Agent実行プロンプト:
     ```
     対象ファイル: `src/index.ts`, `demo.html`, `DEBUG-LOGGING-SUMMARY.md`, `test/spa-navigation-debug.test.ts`

     実行内容: 以下の観点から、既存のデバッグログの実装とテストを分析し、[Issue #50](../issue-notes/50.md) の現象（SPAナビゲーション後の表示崩れやリロード挙動）の監視にどのように活用できるか、具体的な監視計画とチェックリストを提案してください。
     1. `src/index.ts` のログ出力箇所と内容の確認
     2. `test/spa-navigation-debug.test.ts` でテストされているシナリオとログ取得方法の理解
     3. `DEBUG-LOGGING-SUMMARY.md` に記載されている情報との整合性

     確認事項: 既存のログ機構がSPAナビゲーションやリロード時のDOM状態変化を適切に捉えられているか、または追加のログが必要かを検討してください。特に、以前の #46 の問題に関連するDOM要素の再描画タイミングに着目してください。

     期待する出力: [Issue #50](../issue-notes/50.md) の現象を監視するための具体的な手順（手動テスト、ログ解析のポイント）をmarkdown形式で出力してください。また、必要であれば、既存のデバッグログに監視を強化するための改善点を提案してください。
     ```

2. [Issue #31](../issue-notes/31.md) ドッグフーディング計画の策定と初期実行
   - 最初の小さな一歩: `demo.html` を使い、基本的なMarkdownファイルのレンダリング、SPAナビゲーション、数式、コードブロック、図（Mermaid, PlantUMLなど）の表示を網羅するテストケースリストを作成し、手動で一通り動作確認を行う。
   - Agent実行プロンプト:
     ```
     対象ファイル: `demo.html`, `README.md`, `README.ja.md`, `src/index.ts`, `issue-notes/31.md`

     実行内容: [Issue #31](../issue-notes/31.md) のドッグフーディングを効果的に実施するための計画を策定してください。具体的には、以下の要素を考慮し、実行可能な初期ドッグフーディングシナリオとその評価基準を提案してください。
     1. プロジェクトの主要機能（Markdownレンダリング、SPAナビゲーション、各種記法サポート、外部コンテンツ埋め込みなど）
     2. 最近の変更点（ABCjs修正、デバッグログ導入）の影響確認
     3. ユーザー視点での使いやすさや潜在的なバグの発見

     確認事項: ドッグフーディングの範囲が広範にならないよう、最小限で最も価値のあるシナリオに焦点を当ててください。既存のテストケース（`test/integration.test.ts`など）でカバーされていない領域を優先的に検討してください。

     期待する出力: ドッグフーディングのための具体的なテストシナリオ（手順、期待される結果、評価観点）をmarkdown形式で出力してください。また、発見された問題点を記録するための簡単なテンプレートを含めてください。
     ```

3. テストカバレッジの拡充と既存テストの安定化
   - 最初の小さな一歩: `test/playback-fix.test.ts` と `test/integration.test.ts` をレビューし、最近の `abcjs` 関連の修正がこれらのテストで適切にカバーされているか確認する。必要に応じて、 `abcjs` の表示に関する新しいテストケースを追加する。
   - Agent実行プロンプト:
     ```
     対象ファイル: `src/index.ts`, `test/integration.test.ts`, `test/playback-fix.test.ts`, `test/playback-simple.spec.js`, `test/spa-navigation-debug.test.ts`, `playwright.config.ts`, `package.json`

     実行内容: 最近のコミット（特に `abcjs` の表示修正 `5088ad0` やデバッグログの追加 `d8269b9`）を考慮し、既存のテストスイートがこれらの変更を適切に検証しているか分析してください。特に、以下の点を中心にテストカバレッジのギャップと改善点を特定してください。
     1. `abcjs` の記譜法表示がSPAナビゲーション後も正確に機能することを確認するテストの有無
     2. デバッグログが有効な場合のテスト実行への影響と、ログ出力内容を検証するテストの可能性
     3. 既存のテストファイル（特に`integration.test.ts`, `playback-fix.test.ts`）でカバーすべき追加シナリオ

     確認事項: 新しいテストの追加は、既存のテストの実行時間を不必要に増加させないように注意してください。また、テストコードの可読性と保守性を維持することを考慮してください。

     期待する出力: 既存テストスイートの改善提案をmarkdown形式で出力してください。具体的には、追加すべきテストケースの概要（ファイルパス、テスト名、テスト対象機能）、または既存テストの修正案を含めてください。
     ```

---
Generated at: 2026-01-11 07:02:00 JST
